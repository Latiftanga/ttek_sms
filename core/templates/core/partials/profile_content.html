{% load core_tags %}

<!-- Page Header -->
<div class="flex items-center gap-2 sm:gap-3 mb-6">
    <a href="{% url 'core:index' %}"
       hx-get="{% url 'core:index' %}"
       hx-target="#main-content"
       hx-push-url="true"
       class="w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-gradient-to-br from-primary to-secondary flex items-center justify-center shrink-0"
       title="Back to Dashboard">
        <i class="fa-solid fa-arrow-left text-white text-sm sm:text-base"></i>
    </a>
    <div class="flex-1 min-w-0">
        <h1 class="text-base sm:text-xl font-bold">{{ user.get_full_name|default:user.email }}</h1>
        <p class="text-[10px] sm:text-xs text-base-content/60">{{ user.role_label }}</p>
    </div>
    <a href="{% url 'core:profile_edit' %}"
       hx-get="{% url 'core:profile_edit' %}"
       hx-target="#main-content"
       hx-push-url="true"
       class="btn btn-primary btn-xs sm:btn-sm">
        <i class="fa-solid fa-pen-to-square"></i>
        <span class="hidden sm:inline">Edit Profile</span>
    </a>
</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Account Information -->
    <div class="card bg-base-100 shadow-sm border border-base-200">
        <div class="card-body p-5">
            <h2 class="font-semibold text-base flex items-center gap-2 mb-4">
                <i class="fa-solid fa-user-shield text-primary"></i>
                Account Information
            </h2>

            <div class="space-y-4 text-sm">
                <div>
                    <span class="text-base-content/50">Email</span>
                    <p class="font-medium">{{ user.email }}</p>
                </div>
                <div>
                    <span class="text-base-content/50">Name</span>
                    <p class="font-medium">{{ user.get_full_name|default:"Not set" }}</p>
                </div>
                <div>
                    <span class="text-base-content/50">Role</span>
                    <p>
                        <span class="badge badge-primary badge-sm">{{ user.role_label }}</span>
                    </p>
                </div>
                <div>
                    <span class="text-base-content/50">Status</span>
                    <p>
                        <span class="badge badge-success badge-sm">Active</span>
                    </p>
                </div>
                <div>
                    <span class="text-base-content/50">Last Login</span>
                    <p class="font-medium">{{ user.last_login|date:"M j, Y g:i A"|default:"Never" }}</p>
                </div>
                <div>
                    <span class="text-base-content/50">Date Joined</span>
                    <p class="font-medium">{{ user.date_joined|date:"M j, Y" }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Security -->
    <div class="card bg-base-100 shadow-sm border border-base-200">
        <div class="card-body p-5">
            <h2 class="font-semibold text-base flex items-center gap-2 mb-4">
                <i class="fa-solid fa-lock text-primary"></i>
                Security
            </h2>

            <div class="space-y-4">
                <p class="text-sm text-base-content/60">
                    Keep your account secure by using a strong password and changing it regularly.
                </p>

                <a href="{% url 'accounts:password_change' %}" class="btn btn-outline btn-block">
                    <i class="fa-solid fa-key"></i>
                    Change Password
                </a>
            </div>
        </div>
    </div>
</div>
