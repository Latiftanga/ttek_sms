<div id="list-programmes">
    {% if programmes %}
    <div class="overflow-x-auto bg-base-100">
        <table class="table table-zebra">
            <thead>
                <tr class="bg-base-200/50 text-xs uppercase text-base-content/70">
                    <th>Name</th>
                    <th>Code</th>
                    <th>Status</th>
                    <th class="text-right">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for prog in programmes %}
                <tr class="hover">
                    <td>
                        <div class="font-bold">{{ prog.name }}</div>
                        {% if prog.description %}
                        <div class="text-xs text-base-content/50 truncate max-w-xs">{{ prog.description }}</div>
                        {% endif %}
                    </td>
                    <td><span class="badge badge-soft badge-sm font-mono">{{ prog.code }}</span></td>
                    <td>
                        {% if prog.is_active %}
                        <span class="badge badge-success badge-sm badge-soft gap-1">
                            <i class="fa-solid fa-circle text-[6px]"></i> Active
                        </span>
                        {% else %}
                        <span class="badge badge-ghost badge-sm">Inactive</span>
                        {% endif %}
                    </td>
                    <td class="text-right">
                        <div class="join">
                            <button class="btn btn-ghost btn-xs join-item tooltip"
                                    data-tip="Edit"
                                    hx-get="{% url 'academics:programme_edit' prog.pk %}"
                                    hx-target="#modal-edit-content"
                                    hx-on::after-swap="document.getElementById('modal_edit').showModal()">
                                <i class="fa-solid fa-pen"></i>
                            </button>
                            <div class="tooltip" data-tip="Delete">
                                <form hx-post="{% url 'academics:programme_delete' prog.pk %}"
                                      hx-confirm="Delete {{ prog.name }}? This will affect all related classes."
                                      hx-swap="none">
                                    {% csrf_token %}
                                    <button type="submit" class="btn btn-ghost btn-xs text-error join-item">
                                        <i class="fa-solid fa-trash"></i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="flex flex-col items-center justify-center py-12 text-base-content/40 border-2 border-dashed border-base-200 rounded-box">
        <div class="bg-base-200 p-4 rounded-full mb-3">
            <i class="fa-solid fa-graduation-cap text-3xl"></i>
        </div>
        <p class="font-bold">No programmes defined</p>
        <p class="text-sm">Add programmes (e.g., General Arts, Science) for SHS classes</p>
    </div>
    {% endif %}
</div>