<div class="flex justify-between items-center mb-6">
    <h3 class="font-bold text-lg">Attendance History</h3>
    <button class="btn btn-sm btn-primary"
            hx-get="{% url 'academics:class_attendance_take' class.pk %}"
            hx-target="#modal-edit-content"
            onclick="modal_edit.showModal()">
        <i class="fa-solid fa-clipboard-check"></i> Mark Today
    </button>
</div>

{% if attendance_sessions %}
<div class="overflow-x-auto rounded-lg border border-base-200">
    <table class="table table-zebra">
        <thead>
            <tr>
                <th>Date</th>
                <th>Day</th>
                <th>Present</th>
                <th>Absent</th>
                <th class="text-right">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for session in attendance_sessions %}
            <tr>
                <td class="font-bold">{{ session.date|date:"d M Y" }}</td>
                <td>{{ session.date|date:"l" }}</td>
                <td class="text-success font-medium">
                    <i class="fa-solid fa-check"></i> {{ session.present_count }}
                </td>
                <td class="text-error font-medium">
                    <i class="fa-solid fa-xmark"></i> {{ session.absent_count }}
                </td>
                <td class="text-right">
                    <button class="btn btn-ghost btn-xs"
                            hx-get="{% url 'academics:class_attendance_edit' class.pk session.pk %}"
                            hx-target="#modal-edit-content"
                            onclick="modal_edit.showModal()">
                        <i class="fa-solid fa-pen-to-square"></i> Edit
                    </button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="text-center py-12 opacity-50">
    <i class="fa-solid fa-calendar-xmark text-4xl mb-2"></i>
    <p>No attendance records found.</p>
</div>
{% endif %}