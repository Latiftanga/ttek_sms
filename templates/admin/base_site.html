{% extends "admin/base.html" %}
{% load static i18n %}

{% block title %}{{ title }} | TTEK SMS{% endblock %}

{% block branding %}
<a href="{% url 'admin:index' %}" class="flex items-center gap-3 no-underline">
    <div class="logo-container">
        <img src="{% static 'admin/img/logo.png' %}" alt="TTEK SMS" class="logo-image"
             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
        <div class="logo-fallback" style="display: none;">
            <i class="fa fa-graduation-cap"></i>
        </div>
    </div>
    <span class="brand-title">TTEK SMS</span>
</a>

<style>
    .logo-container { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; }
    .logo-image { max-width: 32px; max-height: 32px; object-fit: contain; }
    .logo-fallback { width: 32px; height: 32px; background: #1e3a5f; border-radius: 8px; display: flex; align-items: center; justify-content: center; }
    .logo-fallback i { color: #ffffff; font-size: 1rem; }
    .brand-title { font-size: 1rem; font-weight: 600; color: #1e293b !important; }
    @media (max-width: 640px) { .brand-title { display: none; } }
</style>
{% endblock %}

{% block extrahead %}
{{ block.super }}
<style>
    /* Fix message list positioning and add auto-dismiss animation */
    .messagelist, ul.messagelist {
        position: fixed !important;
        top: 70px;
        right: 16px;
        left: auto !important;
        width: auto;
        max-width: 400px;
        z-index: 1000;
        margin: 0 !important;
        padding: 0 !important;
    }
    .messagelist li, ul.messagelist li {
        animation: fadeInOut 5s ease-in-out forwards;
        margin-bottom: 8px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    @keyframes fadeInOut {
        0% { opacity: 0; transform: translateX(20px); }
        10% { opacity: 1; transform: translateX(0); }
        80% { opacity: 1; transform: translateX(0); }
        100% { opacity: 0; transform: translateX(20px); }
    }
</style>
<script>
(function() {
    // Auto-dismiss Django admin messages after 5 seconds
    document.addEventListener('DOMContentLoaded', function() {
        var messageList = document.querySelector('.messagelist, ul.messagelist');
        if (messageList) {
            setTimeout(function() {
                messageList.style.transition = 'opacity 0.5s ease-out';
                messageList.style.opacity = '0';
                setTimeout(function() {
                    messageList.remove();
                }, 500);
            }, 5000);
        }
    });
})();
</script>
{% endblock %}

{% block nav-global %}{% endblock %}
