{% load core_tags %}

<h3 class="font-bold text-lg mb-4">
    {% if system %}Edit Grading System{% else %}Add Grading System{% endif %}
</h3>

{% if error %}
<div class="alert alert-error mb-4 py-2 text-sm">
    <i class="fa-solid fa-circle-exclamation"></i>
    <span>{{ error }}</span>
</div>
{% endif %}

<form method="post"
      hx-post="{% if system %}{% url 'gradebook:grading_system_edit' system.pk %}{% else %}{% url 'gradebook:grading_system_create' %}{% endif %}"
      hx-target="#modal-content">
    {% csrf_token %}

    <div class="space-y-3">
        {% text_input "name" value=system.name label="System Name" placeholder="e.g., WAEC Standard" required=True size="sm" %}
        {% select_input "level" options=levels value=system.level label="School Level" required=True size="sm" %}

        {% textarea_input "description" value=system.description label="Description" placeholder="Optional description" rows=2 size="sm" %}

        {% if system %}
        {% checkbox_input "is_active" checked=system.is_active label="Active" size="sm" %}
        {% endif %}
    </div>

    <div class="modal-action">
        <button type="button" class="btn btn-sm btn-ghost" onclick="document.getElementById('modal_gradebook').close()">Cancel</button>
        <button type="submit" class="btn btn-sm btn-primary">
            {% if system %}Save{% else %}Add{% endif %}
        </button>
    </div>
</form>
